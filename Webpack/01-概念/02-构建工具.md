# 构建工具

## 构建工具作用

1. 代码转换
2. 文件优化
3. 代码分割
4. 模块合并
5. 自动刷新
6. 代码校验
7. 自动发布

### 前端为什么要进行打包和构建

#### 代码处理

1. 体积更小（Tree-Shaking、压缩，合并），加载更快
2. 编译高级语言或语法（TS,ES6+，模块化，SCSS）
3. 兼容性和错误检查（polyfill， postcss, eslint）

#### 前端工程化

1. 统一、高效的开发环境
2. 统一的构建和产出标准
3. 继承公司构建规范（提测、上线等）

## 构建工具种类

### Grunt

1. 一个任务执行者，其配置文件为Gruntfile.js
2. 只执行我们定义的任务，大量可复用插件封装好了常见的构建任务
3. 集成度不高，配置麻烦

### Gulp

1. 一个基于流的自动化构建工具
2. 流式写法简单直观
3. 异常处理麻烦，难精细控制
4. Gulp使用
    1. gulp.task注册一个任务
    2. gulp.run执行任务
    3. gulp.watch监听文件的变化
    4. gulp.src读取文件
    5. gulp.dest写文件

### Webpack

1. 模块化打包工具
2. 优点
    1. 处理模块化的项目，开箱即用
    2. 通过Plugin扩展
    3. 不止局限于Web开发
    4. 社区庞大，资源多
3. 缺点
    1. 只能模块化项目使用
    2. 打包代码大，存在自己运行的代码

## Rollup

1. 类似Webpack但是专注于ES6的模块打包工具
2. 优点
    1. 利用tree-sharking处理ES6的代码进行简洁
    2. 打包结果由于没有Webpack的模块加载，执行和缓存的代码，体积更小（推荐JS库）
3. 缺点
    1. 生态不完善，功能不太完整

## Parcel（不推荐使用）

1. 快速零配置的模块化工具
2. 优点
    1. 内置常见场景的构建方案和依赖
    2. 以HTML为入口，自动检测和打包依赖资源
    3. 默认支持模块热替换
3. 缺点
    1. 不支持SourceMap
    2. 不支持剔除无效代码
