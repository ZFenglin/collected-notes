<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/themes/prism.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.2.0/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@6.7.0"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.2.7"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.2.0/dist/index.umd.min.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, data) => {
        const {
          Markmap
        } = getMarkmap();
        window.mm = Markmap.create('svg#mindmap', getOptions == null ? void 0 : getOptions(), data);
      })(() => window.markmap,null,{"t":"heading","d":1,"p":{"lines":[0,1]},"v":"HTTP","c":[{"t":"ordered_list","d":2,"p":{"lines":[2,5],"start":1},"v":"","c":[{"t":"list_item","d":3,"p":{"lines":[2,3],"index":1},"v":"1. 超文本传输协议（Hyper Text Transfer Protocol，HTTP）"},{"t":"list_item","d":3,"p":{"lines":[3,4],"index":2},"v":"2. 一个简单的请求-响应协议，它通常运行在TCP之上"}]},{"t":"heading","d":2,"p":{"lines":[5,6]},"v":"HTTP优缺点","c":[{"t":"heading","d":3,"p":{"lines":[7,8]},"v":"HTTP优点","c":[{"t":"list_item","d":5,"p":{"lines":[9,10],"index":1},"v":"1. 请求和响应方式简单"},{"t":"list_item","d":5,"p":{"lines":[10,11],"index":2},"v":"2. 支持任何资源"}]},{"t":"heading","d":3,"p":{"lines":[12,13]},"v":"HTTP缺点","c":[{"t":"list_item","d":5,"p":{"lines":[14,15],"index":1},"v":"1. 不安全","c":[{"t":"list_item","d":7,"p":{"lines":[15,16],"index":1},"v":"1. 明文传输"},{"t":"list_item","d":7,"p":{"lines":[16,17],"index":2},"v":"2. 无法验证身份"},{"t":"list_item","d":7,"p":{"lines":[17,18],"index":3},"v":"3. 消息完整性无法确定"}]}]}]},{"t":"heading","d":2,"p":{"lines":[19,20]},"v":"版本比较","c":[{"t":"heading","d":3,"p":{"lines":[21,22]},"v":"HTTP1.0","c":[{"t":"list_item","d":5,"p":{"lines":[23,24],"index":1},"v":"1. 短连接","c":[{"t":"list_item","d":7,"p":{"lines":[24,25],"index":1},"v":"1. 一个请求一个连接，完成后断开"}]},{"t":"list_item","d":5,"p":{"lines":[25,26],"index":2},"v":"2. 可以传输任何资源"},{"t":"list_item","d":5,"p":{"lines":[26,27],"index":3},"v":"3. 信息头"},{"t":"list_item","d":5,"p":{"lines":[27,28],"index":4},"v":"4. 状态码"},{"t":"list_item","d":5,"p":{"lines":[28,29],"index":5},"v":"5. GET/POST/HEAD"},{"t":"list_item","d":5,"p":{"lines":[29,30],"index":6},"v":"6. 缓存","c":[{"t":"list_item","d":7,"p":{"lines":[30,31],"index":1},"v":"1. Expires"}]}]},{"t":"heading","d":3,"p":{"lines":[32,33]},"v":"HTTP1.1","c":[{"t":"list_item","d":5,"p":{"lines":[34,35],"index":1},"v":"1. 持久连接","c":[{"t":"ordered_list","d":6,"p":{"lines":[35,37],"start":1},"v":"","c":[{"t":"list_item","d":7,"p":{"lines":[35,36],"index":1},"v":"1. 默认Connection: keep-alive，同时具有管道机制"}]},{"t":"blockquote","d":6,"p":{"lines":[37,38]},"v":"","c":[{"t":"paragraph","d":7,"p":{"lines":[37,38]},"v":"管道机制： 同一个TCP连接可以发送多个HTTP请求，但是同一时刻只能处理一个请求，队首处理时间过长，会导致其他请求一直等待，造成队头堵塞"}]}]},{"t":"list_item","d":5,"p":{"lines":[39,40],"index":2},"v":"2. 字节范围请求（range）","c":[{"t":"list_item","d":7,"p":{"lines":[40,41],"index":1},"v":"1. range头来请求部分资源，返回206"}]},{"t":"list_item","d":5,"p":{"lines":[41,42],"index":3},"v":"3. 默认发送HOST头"},{"t":"list_item","d":5,"p":{"lines":[42,43],"index":4},"v":"4. PUT/PATCH/HEAD/OPTIONS/DELETE"},{"t":"list_item","d":5,"p":{"lines":[43,44],"index":5},"v":"5. 缓存","c":[{"t":"list_item","d":7,"p":{"lines":[44,45],"index":1},"v":"1. 协商缓存","c":[{"t":"list_item","d":9,"p":{"lines":[45,46],"index":1},"v":"1. Etag、If-None-Match"},{"t":"list_item","d":9,"p":{"lines":[46,47],"index":2},"v":"2. Last-Modified、If-Modified-Since"}]},{"t":"list_item","d":7,"p":{"lines":[47,48],"index":2},"v":"2. 强缓存","c":[{"t":"list_item","d":9,"p":{"lines":[48,49],"index":1},"v":"1. 增加Cache-Control"}]}]}]},{"t":"heading","d":3,"p":{"lines":[50,51]},"v":"HTTP2","c":[{"t":"ordered_list","d":4,"p":{"lines":[52,61],"start":1},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[52,53],"index":1},"v":"1. 流传输（二进制帧）","c":[{"t":"list_item","d":7,"p":{"lines":[53,54],"index":1},"v":"1. 二进制传输，将消息分成多帧进行传输"}]},{"t":"list_item","d":5,"p":{"lines":[54,55],"index":2},"v":"2. 多路复用","c":[{"t":"list_item","d":7,"p":{"lines":[55,56],"index":1},"v":"1. 一个域名只用一个TCP长连接进行数据传输"},{"t":"list_item","d":7,"p":{"lines":[56,57],"index":2},"v":"2. 不需要按照顺序发送，处理了队头堵塞"}]},{"t":"list_item","d":5,"p":{"lines":[57,58],"index":3},"v":"3. 头部压缩","c":[{"t":"list_item","d":7,"p":{"lines":[58,59],"index":1},"v":"1. 头信息经过gzip或compress压缩后再发送"},{"t":"list_item","d":7,"p":{"lines":[59,60],"index":2},"v":"2. <a href=\"https://segmentfault.com/a/1190000017011816\">HPACK算法</a>：客户端和服务器维护一张头信息表，后续双方通信发送差异头部"}]}]},{"t":"ordered_list","d":4,"p":{"lines":[63,66],"start":4},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[63,64],"index":4},"v":"4. 服务器推送SSE","c":[{"t":"list_item","d":7,"p":{"lines":[64,65],"index":1},"v":"1. 服务器可以在未请求的情况下向客户端发送数据"}]}]},{"t":"heading","d":4,"p":{"lines":[66,67]},"v":"页面请求多张图片","c":[{"t":"list_item","d":6,"p":{"lines":[68,69],"index":1},"v":"1. HTTP1","c":[{"t":"list_item","d":8,"p":{"lines":[69,70],"index":1},"v":"1. 由于TCP最大连接数是6，只能同时6张加载，并且后续的依次加载"},{"t":"list_item","d":8,"p":{"lines":[70,71],"index":2},"v":"2. 可以用多域名部署解决，这样可以提高同时请求的数目，加快页面图片的获取速度"}]},{"t":"list_item","d":6,"p":{"lines":[71,72],"index":2},"v":"2. HTTP2","c":[{"t":"list_item","d":8,"p":{"lines":[72,73],"index":1},"v":"1. 多路复用的支持，请求无限制，可以同时传输"}]}]}]},{"t":"heading","d":3,"p":{"lines":[74,75]},"v":"HTTP3","c":[{"t":"list_item","d":5,"p":{"lines":[76,77],"index":1},"v":"1. 基于UDP的QUIC协议实现"},{"t":"list_item","d":5,"p":{"lines":[77,78],"index":2},"v":"2. 存在以下几个优势","c":[{"t":"list_item","d":7,"p":{"lines":[78,79],"index":1},"v":"1. 原生支持多路复用","c":[{"t":"list_item","d":9,"p":{"lines":[79,80],"index":1},"v":"1. 同一物理连接上可以有多个独立的逻辑数据流"}]},{"t":"list_item","d":7,"p":{"lines":[80,81],"index":2},"v":"2. 加密认证的报文","c":[{"t":"list_item","d":9,"p":{"lines":[81,82],"index":1},"v":"1. 头部经过认证"},{"t":"list_item","d":9,"p":{"lines":[82,83],"index":2},"v":"2. 内容经过加密"}]},{"t":"list_item","d":7,"p":{"lines":[83,84],"index":3},"v":"3. 基于UDP从而支持快速握手"}]}]}]},{"t":"heading","d":2,"p":{"lines":[87,88]},"v":"请求方式","c":[{"t":"heading","d":3,"p":{"lines":[89,90]},"v":"请求方式分类","c":[{"t":"heading","d":4,"p":{"lines":[91,92]},"v":"GET"},{"t":"heading","d":4,"p":{"lines":[95,96]},"v":"POST","c":[{"t":"heading","d":5,"p":{"lines":[99,100]},"v":"与GET的差异","c":[{"t":"list_item","d":7,"p":{"lines":[101,102],"index":1},"v":"1. 影响服务器资源","c":[{"t":"list_item","d":9,"p":{"lines":[102,103],"index":1},"v":"1. GET一般不会影响资源"},{"t":"list_item","d":9,"p":{"lines":[103,104],"index":2},"v":"2. POST一般用于新增或修改资源"}]},{"t":"list_item","d":7,"p":{"lines":[104,105],"index":2},"v":"2. 缓存","c":[{"t":"list_item","d":9,"p":{"lines":[105,106],"index":1},"v":"1. GET一般默认缓存"},{"t":"list_item","d":9,"p":{"lines":[106,107],"index":2},"v":"2. POST一般不缓存"}]},{"t":"list_item","d":7,"p":{"lines":[107,108],"index":3},"v":"3. 参数","c":[{"t":"list_item","d":9,"p":{"lines":[108,109],"index":1},"v":"1. GET将参数放在URL中，参数长度受限，不安全并且会留存在历史记录中","c":[{"t":"list_item","d":11,"p":{"lines":[109,110],"index":1},"v":"1. GET长度限制","c":[{"t":"list_item","d":13,"p":{"lines":[110,111],"index":1},"v":"1. 主流浏览器IE的URL最短的，限制是2083字节"},{"t":"list_item","d":13,"p":{"lines":[111,112],"index":2},"v":"2. GET的长度值 = URL（2083）- （你的Domain+Path）-2（2是get请求中?=两个字符的长度）"}]}]},{"t":"list_item","d":9,"p":{"lines":[113,114],"index":2},"v":"2. POST将数据放在报文中，长度不限"}]}]}]},{"t":"heading","d":4,"p":{"lines":[115,116]},"v":"PUT"},{"t":"heading","d":4,"p":{"lines":[119,120]},"v":"DELETE"},{"t":"heading","d":4,"p":{"lines":[123,124]},"v":"HEAD"},{"t":"heading","d":4,"p":{"lines":[127,128]},"v":"OPTIONS","c":[{"t":"list_item","d":6,"p":{"lines":[129,130],"index":1},"v":"1. 获取目的资源所支持的通信选项"},{"t":"list_item","d":6,"p":{"lines":[130,131],"index":2},"v":"2. CORS 中的预检请求，检测服务器所支持的HTTP请求方法和请求头"}]},{"t":"heading","d":4,"p":{"lines":[132,133]},"v":"TRACE"}]},{"t":"heading","d":3,"p":{"lines":[136,137]},"v":"RESTful API","c":[{"t":"ordered_list","d":4,"p":{"lines":[139,143],"start":1},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[139,140],"index":1},"v":"1. 每个 url 当作一个唯一的资源"},{"t":"list_item","d":5,"p":{"lines":[140,141],"index":2},"v":"2. 不用 url 参数标识类型"},{"t":"list_item","d":5,"p":{"lines":[141,142],"index":3},"v":"3. method 表示操作类型"}]},{"t":"fence","d":4,"v":"<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 创建</span>\n（post）/api/create-blog <span class=\"token operator\">==</span><span class=\"token operator\">></span> （post）/api/blog\n<span class=\"token comment\"># 更新</span>\n（post）/api/update-blog?id<span class=\"token operator\">=</span><span class=\"token number\">100</span> <span class=\"token operator\">==</span><span class=\"token operator\">></span> （put）/api/blog/100\n<span class=\"token comment\"># 获取</span>\n（get）/api/get-blog?id<span class=\"token operator\">=</span><span class=\"token number\">100</span> <span class=\"token operator\">==</span><span class=\"token operator\">></span> （get）/api/blog/100\n</code></pre>\n"}]}]},{"t":"heading","d":2,"p":{"lines":[152,153]},"v":"报文","c":[{"t":"heading","d":3,"p":{"lines":[154,155]},"v":"请求报文","c":[{"t":"ordered_list","d":4,"p":{"lines":[158,163],"start":1},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[158,159],"index":1},"v":"1. 请求行"},{"t":"list_item","d":5,"p":{"lines":[159,160],"index":2},"v":"2. 请求头"},{"t":"list_item","d":5,"p":{"lines":[160,161],"index":3},"v":"3. 空行"},{"t":"list_item","d":5,"p":{"lines":[161,162],"index":4},"v":"4. 请求体"}]},{"t":"heading","d":4,"p":{"lines":[165,166]},"v":"请求行","c":[{"t":"list_item","d":6,"p":{"lines":[167,168],"index":1},"v":"1. 请求方法"},{"t":"list_item","d":6,"p":{"lines":[168,169],"index":2},"v":"2. 请求URL"},{"t":"list_item","d":6,"p":{"lines":[169,170],"index":3},"v":"3. HTTP协议版本"}]},{"t":"heading","d":4,"p":{"lines":[171,172]},"v":"请求头","c":[{"t":"list_item","d":6,"p":{"lines":[175,176],"index":1},"v":"1. 可接收","c":[{"t":"list_item","d":8,"p":{"lines":[176,177],"index":1},"v":"1. Accept：可接收的类型"},{"t":"list_item","d":8,"p":{"lines":[177,178],"index":2},"v":"2. Accept-Encoding：浏览器能处理的压缩编码"},{"t":"list_item","d":8,"p":{"lines":[178,179],"index":3},"v":"3. Accept-Language：浏览器语言设置"},{"t":"list_item","d":8,"p":{"lines":[179,180],"index":4},"v":"4. Accept-Charset：浏览器能显示的字符集"}]},{"t":"list_item","d":6,"p":{"lines":[180,181],"index":2},"v":"2. 连接方式 Connection"},{"t":"list_item","d":6,"p":{"lines":[181,182],"index":3},"v":"3. HOST域 Host"},{"t":"list_item","d":6,"p":{"lines":[182,183],"index":4},"v":"4. 用户代理 User-Agent"},{"t":"list_item","d":6,"p":{"lines":[183,184],"index":5},"v":"5. Cookie"},{"t":"list_item","d":6,"p":{"lines":[184,185],"index":6},"v":"6. 页面链接 Referer"},{"t":"list_item","d":6,"p":{"lines":[185,186],"index":7},"v":"7. 断点续传 Range"},{"t":"list_item","d":6,"p":{"lines":[186,187],"index":8},"v":"8. 缓存","c":[{"t":"list_item","d":8,"p":{"lines":[187,188],"index":1},"v":"1. 协商缓存","c":[{"t":"list_item","d":10,"p":{"lines":[188,189],"index":1},"v":"1. If-Modified-Since"},{"t":"list_item","d":10,"p":{"lines":[189,190],"index":2},"v":"2. If-None-Match"}]},{"t":"list_item","d":8,"p":{"lines":[190,191],"index":2},"v":"2. 强缓存","c":[{"t":"list_item","d":10,"p":{"lines":[191,192],"index":1},"v":"1. Cache-Control"}]}]}]}]},{"t":"heading","d":3,"p":{"lines":[193,194]},"v":"响应报文","c":[{"t":"ordered_list","d":4,"p":{"lines":[196,201],"start":1},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[196,197],"index":1},"v":"1. 响应行"},{"t":"list_item","d":5,"p":{"lines":[197,198],"index":2},"v":"2. 响应头"},{"t":"list_item","d":5,"p":{"lines":[198,199],"index":3},"v":"3. 空行"},{"t":"list_item","d":5,"p":{"lines":[199,200],"index":4},"v":"4. 响应体"}]},{"t":"heading","d":4,"p":{"lines":[203,204]},"v":"响应行","c":[{"t":"list_item","d":6,"p":{"lines":[205,206],"index":1},"v":"1. HTTP协议版本"},{"t":"list_item","d":6,"p":{"lines":[206,207],"index":2},"v":"2. 状态码"},{"t":"list_item","d":6,"p":{"lines":[207,208],"index":3},"v":"3. 状态描述"}]},{"t":"heading","d":4,"p":{"lines":[209,210]},"v":"响应头","c":[{"t":"list_item","d":6,"p":{"lines":[213,214],"index":1},"v":"1. 内容格式","c":[{"t":"list_item","d":8,"p":{"lines":[214,215],"index":1},"v":"1. Content-Type 文档MIME类型","c":[{"t":"list_item","d":10,"p":{"lines":[215,216],"index":1},"v":"1. application/x-www-form-urlencoded 浏览器的原生 form 表单"},{"t":"list_item","d":10,"p":{"lines":[216,217],"index":2},"v":"2. multipart/form-data 表单上传文件"},{"t":"list_item","d":10,"p":{"lines":[217,218],"index":3},"v":"3. application/json 序列化后的 JSON 字符串"},{"t":"list_item","d":10,"p":{"lines":[218,219],"index":4},"v":"4. text/xml 提交 XML 格式的数据"}]},{"t":"list_item","d":8,"p":{"lines":[219,220],"index":2},"v":"2. Content-Encoding"}]},{"t":"list_item","d":6,"p":{"lines":[220,221],"index":2},"v":"2. 连接方式 Connection"},{"t":"list_item","d":6,"p":{"lines":[221,222],"index":3},"v":"3. 消息发送的服务器时间 Date"},{"t":"list_item","d":6,"p":{"lines":[222,223],"index":4},"v":"4. 服务器名称信息 Server"},{"t":"list_item","d":6,"p":{"lines":[223,224],"index":5},"v":"5. 缓存","c":[{"t":"list_item","d":8,"p":{"lines":[224,225],"index":1},"v":"1. 强缓存","c":[{"t":"list_item","d":10,"p":{"lines":[225,226],"index":1},"v":"1. Expires"},{"t":"list_item","d":10,"p":{"lines":[226,227],"index":2},"v":"2. Cache-Control"}]},{"t":"list_item","d":8,"p":{"lines":[227,228],"index":2},"v":"2. 协商缓存","c":[{"t":"list_item","d":10,"p":{"lines":[228,229],"index":1},"v":"1. Etag"},{"t":"list_item","d":10,"p":{"lines":[229,230],"index":2},"v":"2. Last-Modified"}]}]}]}]}]},{"t":"heading","d":2,"p":{"lines":[231,232]},"v":"持久连接","c":[{"t":"ordered_list","d":3,"p":{"lines":[233,236],"start":1},"v":"","c":[{"t":"list_item","d":4,"p":{"lines":[233,234],"index":1},"v":"1. HTTP的keep-alive开启后可以在一个TCP连接中发送多个HTTP请求"},{"t":"list_item","d":4,"p":{"lines":[234,235],"index":2},"v":"2. 管道化，HTTP维护一个队列，可以同时发送多个请求，直到请求处理完成后关闭连接"}]},{"t":"heading","d":3,"p":{"lines":[236,237]},"v":"keep-alive开启/关闭","c":[{"t":"list_item","d":5,"p":{"lines":[238,239],"index":1},"v":"1. Connection: Keep-Alive （HTTP1.1后默认开启）"},{"t":"list_item","d":5,"p":{"lines":[239,240],"index":2},"v":"2. Connection: close"}]},{"t":"heading","d":3,"p":{"lines":[241,242]},"v":"持久连接比较","c":[{"t":"list_item","d":5,"p":{"lines":[245,246],"index":1},"v":"1. 优点","c":[{"t":"list_item","d":7,"p":{"lines":[246,247],"index":1},"v":"1. 减少CPU和内存使用"},{"t":"list_item","d":7,"p":{"lines":[247,248],"index":2},"v":"2. 减少后续请求时间，因为无需连接"},{"t":"list_item","d":7,"p":{"lines":[248,249],"index":3},"v":"3. 降低拥塞控制"},{"t":"list_item","d":7,"p":{"lines":[249,250],"index":4},"v":"4. 报告错误无需关闭TCP连接"}]},{"t":"list_item","d":5,"p":{"lines":[250,251],"index":2},"v":"2. 缺点","c":[{"t":"list_item","d":7,"p":{"lines":[251,252],"index":1},"v":"1. 单文件不断请求的网站(多图片网站)，会影响性能"}]}]}]}]})</script>
</body>
</html>
