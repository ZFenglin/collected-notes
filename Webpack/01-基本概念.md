# 基本概念

## Webpack简单使用

### 命令行

#### 安装指令

全局安装

```BASH
npm install webpack webpack-cli -g
```

局部安装

```BASH

## 安装最新稳定版

npm i -D webpack

## 安装指定版本

npm i -D webpack@<version>

## 安装最新体验版

npm i -D webpack@beta
```

安装webpack V4+版本时, 需要额外安装webpack-cli

```BASH
npm i -D webpack-cli
```

#### 依赖配置

1. -D 开发依赖(--dev)
2. -S 生产依赖(--save)（线上环境会使用到的, 默认）

#### 检查安装

全局版本

```BASH
webpack -v
```

当前项目检查，npx npm自带工具，软连接到./node_modules/webpack/bin/webpack.js

```BASH
npx webpack -v
```

指定模块检查

```BASH
./node_modules/.bin/webpack -v
```

### Loader

文件转换翻译工具
1. 默认只提供js和json
2. 其他格式需要进行配置告诉webpack使用什么loader进行处理

配置方式为module下的rules中添加对象配置

### Plugin

扩展webpack功能，通过向webpack构建流程中注入钩子实现

配置方式为plugins中添加

### DevServer

利用webpack-dev-server，webpack添加 --watch开启监听

热模块替换则是在启动DebServer时加上--hot参数

## Webpack核心概念

### 核心概念

#### Entry

入口， Webpack执行构建的第一步

#### Moudle

一个模块对应一个文件，会从配置的Entry开始递归找出所有的依赖的模块

#### Chunk

代码块，Chunk由多个模块组合而成，用于代码的合并和分割

#### Loader

模块转换器，将模块原有内容按照需求转换成新内容

#### Plugin

扩展插件，webpack构建流程中特定时机注入扩展逻辑，改变输出结果

#### Output

输出结果，处理后得出的最终结果

### 相关问题

#### bundle，chunk，module是什么

![webpack打包流程](assets/01-webpack打包流程.png)

1. 对于一份同逻辑的代码，当我们手写下一个一个的文件，每个文件就是module
2. module 源文件传到 webpack 进行打包时，webpack 会根据文件引用关系生成 chunk 文件
3. webpack 处理好 chunk 文件后，最后会输出 bundle 文件，这个 bundle 文件包含了经过加载和编译的最终源文件

#### Loader和Plugin的不同

作用不同
1. Loader的作⽤是让webpack拥有了加载和解析⾮JavaScript⽂件的能⼒
2. Plugin 可以监听Webpack构建流程的事件，在合适的时机通过 Webpack 提供的 API 改变输出结果

用法不同
1. Loader在module.rules中配置，作为模块解析的规则存在
2. 每个Plugin在plugins中创建实例并单独配置
