<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.2.0/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@6.7.0"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.2.7"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.2.0/dist/index.umd.min.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, data) => {
        const {
          Markmap
        } = getMarkmap();
        window.mm = Markmap.create('svg#mindmap', getOptions == null ? void 0 : getOptions(), data);
      })(() => window.markmap,null,{"t":"heading","d":1,"p":{"lines":[0,1]},"v":"HTTPS","c":[{"t":"heading","d":2,"p":{"lines":[2,3]},"v":"相关概念","c":[{"t":"heading","d":3,"p":{"lines":[4,5]},"v":"超文本传输安全协议","c":[{"t":"list_item","d":5,"p":{"lines":[8,9],"index":1},"v":"1. 由HTTP进行通信"},{"t":"list_item","d":5,"p":{"lines":[9,10],"index":2},"v":"2. 利用SSL/TLS来加密数据包","c":[{"t":"list_item","d":7,"p":{"lines":[10,11],"index":1},"v":"1. 身份验证"},{"t":"list_item","d":7,"p":{"lines":[11,12],"index":2},"v":"2. 信息加密"},{"t":"list_item","d":7,"p":{"lines":[12,13],"index":3},"v":"3. 完整性校验"}]}]},{"t":"heading","d":3,"p":{"lines":[17,18]},"v":"加密方式","c":[{"t":"heading","d":4,"p":{"lines":[19,20]},"v":"非对称加密","c":[{"t":"list_item","d":6,"p":{"lines":[23,24],"index":1},"v":"1. 密钥成对出现"},{"t":"list_item","d":6,"p":{"lines":[24,25],"index":2},"v":"2. 公钥或私钥所加密的信息，只能由对方解开"},{"t":"list_item","d":6,"p":{"lines":[25,26],"index":3},"v":"3. 加密速度慢，不利于通信"}]},{"t":"heading","d":4,"p":{"lines":[27,28]},"v":"对称加密","c":[{"t":"list_item","d":6,"p":{"lines":[31,32],"index":1},"v":"1. 双方使用同一个密钥进行加密解密"},{"t":"list_item","d":6,"p":{"lines":[32,33],"index":2},"v":"2. 需保证密钥传输安全性"}]},{"t":"heading","d":4,"p":{"lines":[34,35]},"v":"散列函数hash","c":[{"t":"list_item","d":6,"p":{"lines":[38,39],"index":1},"v":"1. 不可以解密"},{"t":"list_item","d":6,"p":{"lines":[39,40],"index":2},"v":"2. 用于校验信息完整性"}]}]}]},{"t":"heading","d":2,"p":{"lines":[41,42]},"v":"TLS/SSL","c":[{"t":"heading","d":3,"p":{"lines":[43,44]},"v":"TLS/SSL概念","c":[{"t":"list_item","d":5,"p":{"lines":[45,46],"index":1},"v":"1. SSL 为安全套接层（Secure Sockets Laye）"},{"t":"list_item","d":5,"p":{"lines":[46,47],"index":2},"v":"2. 传输层安全性协议（Transport Layer Securit）"},{"t":"list_item","d":5,"p":{"lines":[47,48],"index":3},"v":"3. SSL为TLS的继任者"}]},{"t":"heading","d":3,"p":{"lines":[51,52]},"v":"<a href=\"https://segmentfault.com/a/1190000021559557\">TLS/SSL握手过程</a>","c":[{"t":"list_item","d":5,"p":{"lines":[55,56],"index":1},"v":"1. 客户端发送 client hello 消息","c":[{"t":"list_item","d":7,"p":{"lines":[56,57],"index":1},"v":"1. client hello 消息","c":[{"t":"list_item","d":9,"p":{"lines":[57,58],"index":1},"v":"1. 支持的 TLS 版本和密码组合"},{"t":"list_item","d":9,"p":{"lines":[58,59],"index":2},"v":"2. &quot;client random&quot;随机字符串"}]}]},{"t":"list_item","d":5,"p":{"lines":[59,60],"index":2},"v":"2. 服务器回应 server hello 消息","c":[{"t":"list_item","d":7,"p":{"lines":[60,61],"index":1},"v":"1. server hello 消息","c":[{"t":"list_item","d":9,"p":{"lines":[61,62],"index":1},"v":"1. 数字证书","c":[{"t":"list_item","d":11,"p":{"lines":[62,63],"index":1},"v":"1. hash信息摘要"},{"t":"list_item","d":11,"p":{"lines":[63,64],"index":2},"v":"2. 公钥"}]},{"t":"list_item","d":9,"p":{"lines":[65,66],"index":2},"v":"2. 服务器选择的密码组合"},{"t":"list_item","d":9,"p":{"lines":[66,67],"index":3},"v":"3. &quot;server random&quot;随机字符串"}]}]},{"t":"list_item","d":5,"p":{"lines":[67,68],"index":3},"v":"3. 客户端验证，并发送公钥加密信息","c":[{"t":"list_item","d":7,"p":{"lines":[68,69],"index":1},"v":"1. 对证书进行验证","c":[{"t":"list_item","d":9,"p":{"lines":[69,70],"index":1},"v":"1. 检查信息完整"},{"t":"list_item","d":9,"p":{"lines":[70,71],"index":2},"v":"2. 获取公钥"}]},{"t":"list_item","d":7,"p":{"lines":[71,72],"index":2},"v":"2. 公钥加密新生成的随机字符串，生成&quot;premaster secret (预主密钥)&quot;，发送"}]},{"t":"list_item","d":5,"p":{"lines":[72,73],"index":4},"v":"4. 服务器使用私钥解密信息"},{"t":"list_item","d":5,"p":{"lines":[73,74],"index":5},"v":"5. 双方使用当前信息生成共享密钥","c":[{"t":"list_item","d":7,"p":{"lines":[74,75],"index":1},"v":"1. 双方使用 client random，server random 和 premaster secret 通过相同算法生成对称加密key"}]},{"t":"list_item","d":5,"p":{"lines":[75,76],"index":6},"v":"6. 客户端 finished","c":[{"t":"list_item","d":7,"p":{"lines":[76,77],"index":1},"v":"1. 发送共享密钥 KEY加密过的&quot;finished&quot;信号"}]},{"t":"list_item","d":5,"p":{"lines":[77,78],"index":7},"v":"7. 服务器 finished","c":[{"t":"list_item","d":7,"p":{"lines":[78,79],"index":1},"v":"1. 发送共享密钥 KEY加密过的&quot;finished&quot;信号"}]},{"t":"list_item","d":5,"p":{"lines":[79,80],"index":8},"v":"8. 建立连接，达成安全通信"}]}]},{"t":"heading","d":2,"p":{"lines":[81,82]},"v":"数字证书","c":[{"t":"heading","d":3,"p":{"lines":[83,84]},"v":"中间人攻击","c":[{"t":"list_item","d":5,"p":{"lines":[85,86],"index":1},"v":"1. 公钥可能被第三方拦截并替换，然后冒充用户进行通信"}]},{"t":"heading","d":3,"p":{"lines":[87,88]},"v":"数字证书过程","c":[{"t":"list_item","d":5,"p":{"lines":[89,90],"index":1},"v":"1. 服务器将公钥和其他信息通过hash加密生成信息摘要"},{"t":"list_item","d":5,"p":{"lines":[90,91],"index":2},"v":"2. 摘要发送给受信任的证书机构（CA）"},{"t":"list_item","d":5,"p":{"lines":[91,92],"index":3},"v":"3. CA生成证书","c":[{"t":"list_item","d":7,"p":{"lines":[92,93],"index":1},"v":"1. CA用自身私钥对摘要进行加密，形成签名"},{"t":"list_item","d":7,"p":{"lines":[93,94],"index":2},"v":"2. 将原始信息和签名合在一起形成数字证书"}]},{"t":"list_item","d":5,"p":{"lines":[94,95],"index":4},"v":"4. 客户端请求获取数字证书并校验","c":[{"t":"list_item","d":7,"p":{"lines":[95,96],"index":1},"v":"1. 根据原始信息利用hash加密获取摘要"},{"t":"list_item","d":7,"p":{"lines":[96,97],"index":2},"v":"2. 通过公证处的公钥来解密数字证书"},{"t":"list_item","d":7,"p":{"lines":[97,98],"index":3},"v":"3. 比对解密摘要和生成摘要，确定信息是否被更改"}]}]}]}]})</script>
</body>
</html>
