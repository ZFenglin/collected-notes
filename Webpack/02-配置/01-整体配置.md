# 整体配置

```JS
const path = require('path');
module.exports = {
    // 入口（详见entry文档）
    entry: {},
    // 输出结果方式（详见output文档）
    output: {},
    // 配置模块相关（详见module文档）
    module: {},
    // 配置寻找模块的规则（详见resolve文档）
    resolve: {},
    // 开发服务器配置（详见devServer文档）
    devServer: {},

    plugins: [],
    performance: {},
    externals: {},
    stats: {},
    context: __dirname,
    devtool: 'source-map',
    target: 'web',
    watch: true,
    watchOptions: {},
    // 是否启用缓存来提升构建速度
    cache: false,
    // 是否捕捉webpack构建的性能信息，用于分析是什么原因导致构建性能不佳
    profile: true,

}
```

## plugins

用于扩展webpack功能，配置因插件而异

## performance

performance是webpack性能检查配置

```JS
performance: {
    hints: 'warning', // 有性能问题时输出警告
    hints: 'error', // 有性能问题时输出错误
    hints: false, // 关闭性能检查
    maxAssetSize: 200000, // 最大文件的大小（单位为bytes）
    maxEntrypointSize: 400000, // 最大入口文件的大小(单位为bytes)
    assetFilter: function(assetFilename) { // 过滤要检查的文件
        return assetFilename.endsWith('.css') || assetFilename.endsWith('.js')
    }
},
```

## externals

告诉webpack运行环境已经内置了那些全局变量，无需打包

```JS
externals: {
    jquery: 'jQuery',
},
```

## stats

控制台输出日志控制

```JS
stats: {
    assets: true,
    colors: true,
    errors: true,
    errorDetails: true,
    hash: true,
},
```

## context

相对路径的根目录设置，默认值为执行webpack的工作目录

```JS
module.exports = {
    context: path.resolve(__dirname， 'app')
}
```

1. 必须为一个绝对路径的字符串
2. 可以在启动webpack时带上参数--context

## devtool

配置source-map类型

```JS
devtool: 'eval-source-map'
```

## target

配置输出代码的运行环境

```JS
{
    target: 'web', // 浏览器，默认
    target: 'webworker', // webworker
    target: 'node', // Node.js ,使用require语句加载chunk代码
    target: 'async-node', // Node.js ，异步加载chunk代码
    target: 'node-webkit', // nw.js
    target: 'electron-main', // electron, 主线程
    target: 'electron-renderer', // electron,渲染线程
}
```

## 监听模式

watch打开监听模式

```JS
watch: true
```

watchOptions控制监听模式

```JS
watchOptions: { // 监听模式选项
    // 不监听的文件或文件夹，支持正则匹配，默认为空
    ignored: /node_modules/,
    //监听到变化发生后，等300ms再执行动作，截流，防止文件更新太快导致重新编译频率太快，默认为300ms，
    aggregateTimeout: 300,
    // 不停地询问系统指定的文件有没有发生变化，默认每秒询问1000次
    poll: 1000
},
```
